(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{165:function(e,t,n){e.exports=n(236)},170:function(e,t,n){},178:function(e,t){},180:function(e,t){},181:function(e,t){},182:function(e,t){},183:function(e,t){},235:function(e,t,n){},236:function(e,t,n){"use strict";n.r(t);var r=n(0),a=n.n(r),c=n(14),o=n.n(c),s=n(19),l=n(20),i=n(22),u=n(21),p=n(23),d=(n(170),n(275)),f=n(269),m=n(280),b=n(273),h=n(277),v=n(160),g=n(274),j=n(276),O=n(107),y=n.n(O),x=n(26),E=n(59),w=function(e){return 0===e.pageCount},P=n(161),k=n(27),C=n.n(k),D=n(67),I=n(74),N=n(62),A=n.n(N);function R(){return(R=Object(D.a)(C.a.mark(function e(t,n){var r,a;return C.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,I.PDFDocument.load(t.data);case 2:return(r=e.sent).insertPage(n),e.next=6,r.save();case 6:return a=e.sent,e.abrupt("return",A()(t,{data:{$set:a},pageCount:{$set:t.pageCount+1},selectedPage:{$set:n}}));case 8:case"end":return e.stop()}},e)}))).apply(this,arguments)}function F(e,t){return S.apply(this,arguments)}function S(){return(S=Object(D.a)(C.a.mark(function e(t,n){return C.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",$(t,[n]));case 1:case"end":return e.stop()}},e)}))).apply(this,arguments)}function $(e,t){return L.apply(this,arguments)}function L(){return(L=Object(D.a)(C.a.mark(function e(t,n){var r,a,c,o,s,l,i,u;return C.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,I.PDFDocument.load(t.data);case 2:for(r=e.sent,a=!0,c=!1,o=void 0,e.prev=6,s=n.reverse()[Symbol.iterator]();!(a=(l=s.next()).done);a=!0)i=l.value,r.removePage(i);e.next=14;break;case 10:e.prev=10,e.t0=e.catch(6),c=!0,o=e.t0;case 14:e.prev=14,e.prev=15,a||null==s.return||s.return();case 17:if(e.prev=17,!c){e.next=20;break}throw o;case 20:return e.finish(17);case 21:return e.finish(14);case 22:return e.next=24,r.save();case 24:return u=e.sent,e.abrupt("return",{data:u,pageCount:t.pageCount-n.length,selectedPage:t.selectedPage});case 26:case"end":return e.stop()}},e,null,[[6,10,14,22],[15,,17,21]])}))).apply(this,arguments)}function T(e){return W.apply(this,arguments)}function W(){return(W=Object(D.a)(C.a.mark(function e(t){var n,r,a;return C.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,I.PDFDocument.load(t);case 2:return n=e.sent,r=n.getPageCount(),e.next=6,n.save();case 6:return a=e.sent,e.abrupt("return",{data:a,pageCount:r,selectedPage:0});case 8:case"end":return e.stop()}},e)}))).apply(this,arguments)}function z(e,t){return B.apply(this,arguments)}function B(){return(B=Object(D.a)(C.a.mark(function e(t,n){var r,a,c,o,s,l,i,u,p,d;return C.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!w(t)){e.next=2;break}return e.abrupt("return",n);case 2:return e.next=4,I.PDFDocument.load(t.data);case 4:return r=e.sent,e.next=7,I.PDFDocument.load(n.data);case 7:return a=e.sent,e.next=10,r.copyPages(a,a.getPageIndices());case 10:for(c=e.sent,o=!0,s=!1,l=void 0,e.prev=14,i=c[Symbol.iterator]();!(o=(u=i.next()).done);o=!0)p=u.value,console.log(p.getSize()),r.addPage(p);e.next=22;break;case 18:e.prev=18,e.t0=e.catch(14),s=!0,l=e.t0;case 22:e.prev=22,e.prev=23,o||null==i.return||i.return();case 25:if(e.prev=25,!s){e.next=28;break}throw l;case 28:return e.finish(25);case 29:return e.finish(22);case 30:return e.next=32,r.save();case 32:return d=e.sent,e.abrupt("return",{data:d,pageCount:t.pageCount+n.pageCount,selectedPage:t.selectedPage});case 34:case"end":return e.stop()}},e,null,[[14,18,22,30],[23,,25,29]])}))).apply(this,arguments)}function M(){return(M=Object(D.a)(C.a.mark(function e(t,n){return C.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",T(t).then(function(e){return z(n,e)}));case 1:case"end":return e.stop()}},e)}))).apply(this,arguments)}var U=function(e){function t(){var e,n;Object(s.a)(this,t);for(var r=arguments.length,a=new Array(r),c=0;c<r;c++)a[c]=arguments[c];return(n=Object(i.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(a)))).read=function(e){var t=e[0],r=new FileReader;r.onabort=function(){return console.log("file reading was aborted")},r.onerror=function(){return console.log("file reading has failed")},r.onload=function(){var e=r.result;null!=e&&function(e,t){return M.apply(this,arguments)}(e,n.props.pdf).then(function(e){return n.props.load(e)})},r.readAsArrayBuffer(t)},n}return Object(p.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this,t=this.props.classes;return a.a.createElement(a.a.Fragment,null,a.a.createElement(P.a,{onDrop:function(t){return e.read(t)},accept:".pdf",multiple:!1},function(e){var n=e.getRootProps,r=e.getInputProps;return a.a.createElement("section",null,a.a.createElement("div",n({className:t.dropzone}),a.a.createElement("input",r()),a.a.createElement("p",null,"Drag 'n' drop some files here, or click to select files")))}))}}]),t}(r.PureComponent),J=n(282),_={load:"pdf/load",selectPage:"pdf/select"},G=Object(J.a)(_.load),H=Object(J.a)(_.selectPage),q=n(281),K=n(10),Q=function(e){return e.pdf},V=function(e){return Q(e).pageCount},X=function(e){return Q(e).selectedPage},Y=Object(K.a)(function(e){return Object(q.a)({dropzone:{flex:1,display:"flex",flexDirection:"column",alignItems:"center",borderWidth:"2px",borderRadius:"2px",borderColor:e.palette.secondary.main,borderStyle:"dashed",backgroundColor:"#fafafa",color:e.palette.secondary.main,outline:"none"}})},{withTheme:!0})(Object(x.b)(function(e){return{pdf:Q(e)}},function(e){return{load:function(t){return e(G(t))}}})(U)),Z=n(237),ee=n(95),te=n.n(ee),ne=function(e){function t(){var e,n;Object(s.a)(this,t);for(var r=arguments.length,a=new Array(r),c=0;c<r;c++)a[c]=arguments[c];return(n=Object(i.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(a)))).selectPage=function(e){return n.props.selectPage(n.props.index)},n.removePage=function(e){return F(n.props.pdf,n.props.index).then(n.props.load)},n}return Object(p.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this.props,t=e.index,n=e.classes,r=e.scale,c=e.selected,o=e.pageCount;return a.a.createElement("div",{onClick:this.selectPage,className:c?n.selected:n.main},a.a.createElement("div",{className:n.top},a.a.createElement("div",{className:n.center},(t+1).toLocaleString(),"/",o.toLocaleString()),a.a.createElement(Z.a,{"aria-label":"delete",className:n.right,onClick:this.removePage},a.a.createElement(te.a,{fontSize:"small"}))),a.a.createElement(E.Page,{className:n.page,scale:r,width:595,height:841,pageIndex:t,renderAnnotationLayer:!1}))}}]),t}(r.PureComponent),re=Object(K.a)(function(e){return Object(q.a)({main:{border:"1px solid ".concat(e.palette.secondary.main),padding:10,margin:1},selected:{border:"1px solid ".concat(e.palette.primary.main),padding:10,margin:1},page:{"& > canvas":{border:"1px solid ".concat(e.palette.secondary.main)},margin:5},top:{display:"flex",justifyContent:"space-between"},center:{flex:1,textAlign:"center"}})},{withTheme:!0})(Object(x.b)(function(e){return{selectedPage:X(e),pageCount:V(e),pdf:Q(e)}},function(e){return{selectPage:function(t){return e(H(t))},load:function(t){return e(G(t))}}})(ne)),ae=function(e){function t(){return Object(s.a)(this,t),Object(i.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this.props,t=e.pdf,n=e.selectedPage,r=e.classes,c=w(t),o=Array.from(Array(t.selectedPage).keys()).slice(-2),s=Array.from(Array(t.pageCount).keys()).slice(n,n+3);return a.a.createElement(a.a.Fragment,null,c&&a.a.createElement(Y,null),!c&&a.a.createElement(E.Document,{file:{data:t.data}},a.a.createElement(f.a,{container:!0,spacing:3},a.a.createElement(f.a,{item:!0,xs:2},o.map(function(e){return e!==n&&a.a.createElement(re,{key:e,selected:!1,index:e,scale:.2})})),a.a.createElement(f.a,{item:!0,xs:8},a.a.createElement("div",{className:r.content},a.a.createElement(re,{selected:!0,index:n,scale:1}))),a.a.createElement(f.a,{item:!0,xs:2},s.map(function(e){return e!==n&&a.a.createElement(re,{key:e,selected:!1,index:e,scale:.2})})))))}}]),t}(r.PureComponent),ce=Object(K.a)(function(e){return Object(q.a)({content:{maxWidth:"100%",maxHeight:"100%",display:"flex",flexDirection:"column",alignItems:"center",overflow:"auto"}})},{withTheme:!0})(Object(x.b)(function(e){return{pdf:Q(e),selectedPage:X(e)}},function(e){return{}})(ae)),oe=n(157),se=n.n(oe),le=n(270),ie=function(e){function t(){var e,n;Object(s.a)(this,t);for(var r=arguments.length,a=new Array(r),c=0;c<r;c++)a[c]=arguments[c];return(n=Object(i.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(a)))).download=function(){se()(n.props.pdf.data,"download.pdf","application/pdf")},n}return Object(p.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return a.a.createElement(a.a.Fragment,null,a.a.createElement(le.a,{variant:"outlined",color:"primary",onClick:this.download,style:{margin:"0 10px 10px 0"},disabled:w(this.props.pdf)},"Download"))}}]),t}(r.PureComponent),ue=Object(x.b)(function(e){return{pdf:Q(e)}},function(e){return{}})(ie),pe=n(271),de=n(272),fe=function(e){function t(){return Object(s.a)(this,t),Object(i.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this.props.classes;return r.createElement(r.Fragment,null,r.createElement(pe.a,{elevation:0,position:"static"},r.createElement(de.a,null,r.createElement(b.a,{variant:"h6"},"pdfModer"))),r.createElement("main",{className:e.content},this.props.children))}}]),t}(r.PureComponent),me=Object(K.a)(function(e){return Object(q.a)({content:{height:"calc(100%-64px)",padding:40}})},{withTheme:!0})(fe),be=n(278),he=n(158),ve=n.n(he),ge=function(e){function t(){var e,n;Object(s.a)(this,t);for(var r=arguments.length,a=new Array(r),c=0;c<r;c++)a[c]=arguments[c];return(n=Object(i.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(a)))).insert=function(){var e=n.props.insert;isNaN(+e)||function(e,t){return R.apply(this,arguments)}(n.props.pdf,+e-1).then(n.props.load)},n.setInsert=function(e){n.props.setInsert(e.target.value)},n}return Object(p.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this.props.insert;return a.a.createElement(f.a,{container:!0,spacing:3},a.a.createElement(f.a,{item:!0,xs:12},a.a.createElement(be.a,{label:"Before page",type:"text",value:e,onChange:this.setInsert,InputLabelProps:{shrink:!0}}),a.a.createElement(le.a,{variant:"outlined",color:"primary",onClick:this.insert,style:{margin:"0 10px 10px 0"},disabled:w(this.props.pdf)||isNaN(+e),startIcon:a.a.createElement(ve.a,null)},"Insert new page")),a.a.createElement(f.a,{item:!0,xs:12},"Insert doc",a.a.createElement(Y,null)))}}]),t}(r.PureComponent),je=function(e){return e.form},Oe=function(e){return je(e).remove},ye=function(e){return je(e).insert},xe={set:"form/set",setRemove:"form/setRemove",setInsert:"form/setInsert"},Ee=(Object(J.a)(xe.set),Object(J.a)(xe.setRemove)),we=Object(J.a)(xe.setInsert),Pe=Object(x.b)(function(e){return{pdf:Q(e),insert:ye(e)}},function(e){return{load:function(t){return e(G(t))},setInsert:function(t){return e(we(t))}}})(ge),ke=new RegExp("^([0-9]+)-([0-9]+)$"),Ce=function(e){return ke.test(e)},De=function(e){var t=ke.exec(e);return[+t[1],+t[2]]},Ie=function(e){function t(){var e,n;Object(s.a)(this,t);for(var r=arguments.length,a=new Array(r),c=0;c<r;c++)a[c]=arguments[c];return(n=Object(i.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(a)))).remove=function(){var e=n.props.remove;if(isNaN(+e)){if(Ce(e)){var t=De(e),r=Array.from(Array(t[1]).keys()).slice(t[0]-1);$(n.props.pdf,r).then(n.props.load)}}else{var a=+e-1;F(n.props.pdf,a).then(n.props.load)}},n.setRemove=function(e){return n.props.setRemove(e.target.value)},n.isDisabled=function(){return w(n.props.pdf)||isNaN(+n.props.remove)&&!Ce(n.props.remove)},n}return Object(p.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this.props,t=(e.pdf,e.remove);return a.a.createElement(a.a.Fragment,null,a.a.createElement(be.a,{label:"Pages to delete",type:"text",value:t,onChange:this.setRemove,placeholder:"ex: 5-8 or 8",InputLabelProps:{shrink:!0}}),a.a.createElement(le.a,{variant:"outlined",color:"primary",onClick:this.remove,style:{margin:"0 10px 10px 0"},disabled:this.isDisabled(),startIcon:a.a.createElement(te.a,null)},"Delete"))}}]),t}(r.Component),Ne=Object(x.b)(function(e){return{pdf:Q(e),remove:Oe(e)}},function(e){return{load:function(t){return e(G(t))},setRemove:function(t){return e(Ee(t))}}})(Ie),Ae=Object(v.a)({palette:{primary:{main:"#ee3f3f"},secondary:{main:"#a09f9f"}}}),Re=function(e){function t(){return Object(s.a)(this,t),Object(i.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return r.createElement(g.a,{theme:Ae},r.createElement(d.a,null),r.createElement(me,null,r.createElement(f.a,{container:!0,spacing:3},r.createElement(f.a,{item:!0,xs:3},r.createElement(ue,null),r.createElement(m.a,null,r.createElement(j.a,{expandIcon:r.createElement(y.a,null)},r.createElement(b.a,null,"Insert page")),r.createElement(h.a,null,r.createElement(Pe,null))),r.createElement(m.a,null,r.createElement(j.a,{expandIcon:r.createElement(y.a,null)},r.createElement(b.a,null,"Delete")),r.createElement(h.a,null,r.createElement(Ne,null)))),r.createElement(f.a,{item:!0,xs:9},r.createElement(ce,null)))))}}]),t}(r.PureComponent);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));n(235);var Fe,Se,$e=n(58),Le=n(66),Te=n(279),We=Object(Te.a)((Fe={},Object(Le.a)(Fe,_.load,function(e,t){return t.payload}),Object(Le.a)(Fe,_.selectPage,function(e,t){return A()(e,{selectedPage:{$set:t.payload}})}),Fe),{data:new Uint8Array(0),pageCount:0,selectedPage:0}),ze=n(159),Be=Object(Te.a)((Se={},Object(Le.a)(Se,xe.set,function(e,t){return t.payload}),Object(Le.a)(Se,xe.setRemove,function(e,t){return A()(e,{remove:{$set:t.payload}})}),Object(Le.a)(Se,xe.setInsert,function(e,t){return A()(e,{insert:{$set:t.payload}})}),Se),{remove:"",insert:"1"}),Me=Object($e.combineReducers)({pdf:We,form:Be}),Ue=Object($e.createStore)(Me,Object(ze.composeWithDevTools)(Object($e.applyMiddleware)()));E.pdfjs.GlobalWorkerOptions.workerSrc="//cdnjs.cloudflare.com/ajax/libs/pdf.js/".concat(E.pdfjs.version,"/pdf.worker.js"),o.a.render(a.a.createElement(x.a,{store:Ue},a.a.createElement(Re,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})},80:function(e,t){function n(e){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}n.keys=function(){return[]},n.resolve=n,e.exports=n,n.id=80}},[[165,1,2]]]);
//# sourceMappingURL=main.c3c00a56.chunk.js.map